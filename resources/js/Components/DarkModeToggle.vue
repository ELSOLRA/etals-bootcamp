<script setup>
import { onMounted } from "vue";
import { ref } from "vue";

const isDark = ref(false);

onMounted(() => {
    isDark.value = localStorage.theme === "dark";
});

const toggleDark = () => {
    isDark.value = !isDark.value;

    localStorage.theme = isDark ? "dark" : "light";
    document.documentElement.classList.toggle("dark", isDark.value);
};
</script>

<template>
    <button
        @click="toggleDark"
        class="rounded-lg p-2 hover:bg-gray-200 dark:hover:bg-gray-700"
    >
        <!-- Sun SVG -->
        <svg v-if="isDark" viewBox="0 0 420 420" class="h-6 w-6">
            <g>
                <polygon
                    style="fill: #f5c525"
                    points="420,210 375.774,247.857 399.238,301.145 342.926,315.986 340.945,374.184 283.764,363.211 
                    256.724,414.779 210,380 163.276,414.779 136.236,363.211 79.055,374.184 77.073,315.986 20.762,301.144 44.226,247.858 0,210 
                    44.226,172.143 20.762,118.855 77.074,104.014 79.055,45.816 136.236,56.789 163.276,5.221 210,40 256.723,5.221 283.764,56.789 
                    340.945,45.816 342.927,104.014 399.238,118.856 375.774,172.142"
                />
                <circle style="fill: #f8a805" cx="210" cy="210" r="140" />
            </g>
        </svg>
        <!-- Moon SVG -->
        <svg v-else viewBox="0 0 512 512" class="h-6 w-6">
            <path
                style="fill: #3a5d74"
                d="M509.671,357.063c-2.543-2.825-6.575-3.767-10.106-2.361c-30.773,12.254-63.458,18.466-97.147,18.466
                c-27.953,0-55.472-4.352-81.798-12.938l-26.99-10.488c-45.469-20.629-84.048-53.639-111.572-95.468
                c-28.28-42.982-43.229-93.016-43.229-144.692c0-33.69,6.213-66.373,18.466-97.144c1.406-3.531,0.463-7.564-2.361-10.106
                c-2.825-2.542-6.934-3.054-10.299-1.286C55.421,47.988,0,139.897,0,240.905c0,149.48,121.612,271.092,271.092,271.092
                c101.01,0,192.92-55.421,239.863-144.636C512.725,363.998,512.212,359.888,509.671,357.063z"
            />
            <path
                style="opacity: 0.1; fill: #231f20; enable-background: new"
                d="M284.14,498.382c-149.48,0-271.092-121.612-271.092-271.092
                c0-67.947,25.079-131.776,68.654-180.571C30.126,96.924,0,166.44,0,240.905c0,149.48,121.612,271.092,271.092,271.092
                c78.445,0,151.394-33.43,202.064-90.15C423.403,470.261,356.082,498.382,284.14,498.382z"
            />
        </svg>
    </button>
</template>
